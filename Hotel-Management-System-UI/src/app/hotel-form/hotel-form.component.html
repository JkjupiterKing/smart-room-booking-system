<h2 mat-dialog-title>{{ isEditMode ? "Edit Hotel" : "Add Hotel" }}</h2>
<mat-dialog-content>
  <form [formGroup]="hotelForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" />
    </mat-form-field>

    <!-- Location Dropdown -->
    <mat-form-field appearance="fill">
      <mat-label>Location</mat-label>
      <mat-select formControlName="location" required>
        <mat-option *ngFor="let loc of locations" [value]="loc.id">
          {{ loc.city }}, {{ loc.state ? loc.state + ", " : ""
          }}{{ loc.country }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Price per Night</mat-label>
      <input matInput formControlName="price" type="number" />
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Rating</mat-label>
      <input matInput formControlName="rating" type="number" min="1" max="5" />
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="description"></textarea>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Latitude</mat-label>
      <input matInput formControlName="latitude" type="number" />
      <mat-error *ngIf="hotelForm.get('latitude')?.hasError('required')">Latitude is required.</mat-error>
      <mat-error *ngIf="hotelForm.get('latitude')?.hasError('min')">Latitude must be at least -90.</mat-error>
      <mat-error *ngIf="hotelForm.get('latitude')?.hasError('max')">Latitude must be at most 90.</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Longitude</mat-label>
      <input matInput formControlName="longitude" type="number" />
      <mat-error *ngIf="hotelForm.get('longitude')?.hasError('required')">Longitude is required.</mat-error>
      <mat-error *ngIf="hotelForm.get('longitude')?.hasError('min')">Longitude must be at least -180.</mat-error>
      <mat-error *ngIf="hotelForm.get('longitude')?.hasError('max')">Longitude must be at most 180.</mat-error>
    </mat-form-field>

    <div class="file-input">
      <label>Image 1 (primary)</label>
      <input type="file" (change)="onFileSelected($event, 0)" />
    </div>
    <div class="file-input">
      <label>Image 2 (optional)</label>
      <input type="file" (change)="onFileSelected($event, 1)" />
    </div>
    <div class="file-input">
      <label>Image 3 (optional)</label>
      <input type="file" (change)="onFileSelected($event, 2)" />
    </div>
    <div class="file-input">
      <label>Image 4 (optional)</label>
      <input type="file" (change)="onFileSelected($event, 3)" />
    </div>
    <div class="file-input">
      <label>Image 5 (optional)</label>
      <input type="file" (change)="onFileSelected($event, 4)" />
    </div>
  </form>
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-button (click)="dialogRef.close()">Cancel</button>
  <button
    mat-button
    color="primary"
    (click)="onSubmit()"
    [disabled]="!hotelForm.valid"
  >
    {{ isEditMode ? "Update" : "Save" }}
  </button>
</mat-dialog-actions>
